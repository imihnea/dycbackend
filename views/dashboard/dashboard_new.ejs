<% include ../partials/header %>
<link rel="stylesheet" type="text/css" media="screen" href="/dist/css/dashboard.css" />
<script src="../../dist/js/dashboard_new.js"></script>
<link rel="stylesheet" href="../../dist/css/products.css">

    <div class="columns">
            <% include ../partials/sidebar %>
            <div class="column dashboard-right">
                <div class="columns">
                   <div class="column"></div>
                <div class="column is-three-fifths">
                    <h1 class="title">New Deal</h1>
                    <hr>
                    <form action="/dashboard" method="POST" enctype="multipart/form-data">
                        <h4 class="new-text" style="margin-bottom: 3vh;">General Information</h4>
                        <div class="container is-fluid">
                            <% if(errors){ %>
                                <div class="notification is-danger" role="alert"> 
                                <% errors.forEach(function( err){ %>
                                    <%= err.msg %><br>
                                <% }) %>
                                </div>
                            <% } %>
                        </div>
                        <input class="input" name="product[name]" placeholder="Name" type="text" required />
                        <div style="display: flex;">
                            <div class="select cont-select catSelectLeft">
                                <select type="text" name="product[category][0]" id="firstCat" style="width: 100%;">
                                    <option disabled selected>Main Category</option>
                                    <option value="Collectibles & Art">Collectibles & Art</option>
                                    <option value="Electronics">Electronics</option>
                                    <option value="Fashion & Beauty">Fashion & Beauty</option>
                                    <option value="Home Improvement">Home Improvement</option>
                                    <option value="Leisure Time">Leisure Time</option>
                                    <option value="Mothers & Babies">Mothers & Babies</option>
                                    <option value="Pet Supplies">Pet Supplies</option>
                                    <option value="Real Estate">Real Estate</option>
                                    <option value="Sports & Outdoors">Sports & Outdoors</option>
                                    <option value="Vehicles">Vehicles</option>
                                </select>
                            </div>
                            <div class="select cont-select catSelectCenter">
                                <select type="text" name="product[category][1]" id="secondCat" style="width: 100%">
                                    <option disabled selected>Secondary Category</option>
                                </select>
                            </div>
                            <div class="select cont-select catSelectRight">
                                <select type="text" name="product[category][2]" id="thirdCat" style="width: 100%">
                                    <option disabled selected>Tertiary Category</option>
                                </select>
                            </div>
                        </div>
                        <div class="select cont-select">
                            <select type="text" name="product[condition]" style="width: 100%">
                                <option value="Not Specified" disabled selected>Condition</option>
                                <option value="Brand New">Brand New</option>
                                <option value="Like New">Like New</option>
                                <option value="Refurbished">Refurbished</option>
                                <option value="Used">Used</option>
                                <option value="Broken or Scrap">Broken or Scrap</option>
                            </select>
                        </div>
                        <textarea name="product[description]" class="textarea" placeholder="Description"></textarea>     
                        <div style="display: flex; justify-content: space-evenly; margin-top: 1vh; align-items: center;">
                            <label for="repeatable"><p class="title is-6">Repeatable deal</p></label>
                            <input id="repeatable" name="product[repeatable]" type="checkbox" value="true">
                        </div>
                        <hr>
                        <h4 class="new-text" style="margin-bottom: 3vh;">Images</h4>
                        <div class="file-upload">
                            <div>
                                <label for="upload[0]" class="file-upload__label">
                                    <span style="font-size: 5rem;">
                                        <i class="far fa-plus-square square"></i>
                                        <i class="far fa-check-square hide"></i>
                                    </span>
                                </label>
                                <input id="upload[0]" class="file-upload__input" accept="image/*" type="file" name="images">
                                <label class="file-delete__label hide">
                                    <span>
                                        <i class="far fa-trash-alt"></i>
                                    </span>
                                </label>
                            </div>
                            <div>
                                <label for="upload[1]" class="file-upload__label">
                                    <span style="font-size: 5rem;">
                                        <i class="far fa-plus-square square"></i>
                                        <i class="far fa-check-square hide"></i>
                                    </span>
                                </label>
                                <input id="upload[1]" class="file-upload__input" accept="image/*" type="file" name="images">
                                <label class="file-delete__label hide">
                                    <span>
                                        <i class="far fa-trash-alt"></i>
                                    </span>
                                </label>
                            </div>
                            <div>
                                <label for="upload[2]" class="file-upload__label">
                                    <span style="font-size: 5rem;">
                                        <i class="far fa-plus-square square"></i>
                                        <i class="far fa-check-square hide"></i>
                                    </span>
                                </label>
                                <input id="upload[2]" class="file-upload__input" accept="image/*" type="file" name="images">
                                <label class="file-delete__label hide">
                                    <span>
                                        <i class="far fa-trash-alt"></i>
                                    </span>
                                </label>
                            </div>
                            <div>
                                <label for="upload[3]" class="file-upload__label">
                                    <span style="font-size: 5rem;">
                                        <i class="far fa-plus-square square"></i>
                                        <i class="far fa-check-square hide"></i>
                                    </span>
                                </label>
                                <input id="upload[3]" class="file-upload__input" accept="image/*" type="file" name="images">
                                <label class="file-delete__label hide">
                                    <span>
                                        <i class="far fa-trash-alt"></i>
                                    </span>
                                </label>
                            </div>
                            <div>
                                <label for="upload[4]" class="file-upload__label">
                                    <span style="font-size: 5rem;">
                                        <i class="far fa-plus-square square"></i>
                                        <i class="far fa-check-square hide"></i>
                                    </span>
                                </label>
                                <input id="upload[4]" class="file-upload__input" accept="image/*" type="file" name="images">
                                <label class="file-delete__label hide">
                                    <span>
                                        <i class="far fa-trash-alt"></i>
                                    </span>
                                </label>
                            </div>
                        </div>                                     
                        <hr />
                        <h4 class="new-text" style="margin-bottom: 3vh;">Accepted currencies</h4>
                        <label class="img-check ">
                            <img src="../../dist/img/bitcoin.png" id="btc-check-img" alt="Bitcoin" class="new_cccy gray" id="btcimg">
                            <input id="btc-check" type="checkbox" name="product[acc_btc]" class="curr_checkbox" value="true">
                        </label>
                        <label class="img-check ">
                            <img src="../../dist/img/bitcoincash.png" id="bch-check-img"  alt="BitcoinCash" class="new_cccy gray" id="bchimg">
                            <input id="bch-check" type="checkbox" name="product[acc_bch]"  class="curr_checkbox" value="true">
                        </label>
                        <label class="img-check ">
                            <img src="../../dist/img/ethereum.png" id="eth-check-img"  alt="ethereum" class="new_cccy gray" id="ethimg">
                            <input id="eth-check" type="checkbox" name="product[acc_eth]"  class="curr_checkbox" value="true">
                        </label>
                        <label class="img-check ">
                            <img src="../../dist/img/litecoin.png" id="ltc-check-img"  alt="Litecoin" class="new_cccy gray" id="ltcimg">
                            <input id="ltc-check" type="checkbox" name="product[acc_ltc]"  class="curr_checkbox" value="true">
                        </label>
                        <label class="img-check ">
                            <img src="../../dist/img/dash.png" id="dash-check-img"  alt="DASH" class="new_cccy gray" id="dashimg">
                            <input id="dash-check" type="checkbox" name="product[acc_dash]"  class="curr_checkbox" value="true">
                        </label>
                        <input class="currency-input input smmargin" id="btc-price" name="product[btc_price]" placeholder="Price (BTC)" type="number" step=any />
                        <input class="currency-input input smmargin" id="bch-price"  name="product[bch_price]" placeholder="Price (BCH)" type="number" step=any />
                        <input class="currency-input input smmargin" id="eth-price"  name="product[eth_price]" placeholder="Price (ETH)" type="number" step=any />
                        <input class="currency-input input smmargin" id="ltc-price"  name="product[ltc_price]" placeholder="Price (LTC)" type="number" step=any />
                        <input class="currency-input input smmargin" id="dash-price"  name="product[dash_price]" placeholder="Price (DASH)" type="number" step=any />
                        <hr>
                        <div style="margin-bottom: 3vh;">
                            <h4 class="new-text">Delivery</h4>
                            <sub class="subtitle" >Select all that apply</sub>
                        </div>
                        <br>
                        <div class="columns">
                            <div class="column">
                               <div style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="cityDiv" class="columns options optionsUnchecked">
                                            <div class="column is-half"><i class="fas fa-city fa-3x" style="color: #bf9c5c;" ></i></div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Same city delivery</p>
                                            </div>
                                        </div>
                                        <input id="city" type="checkbox" name="product[city]" class="curr_checkbox" value="true" >
                                    </label>
                                </div> 
                                <br>
                                <div style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="stateDiv" class="columns options optionsUnchecked">
                                            <div class="column is-half"><i class="fas fa-map-marked-alt fa-3x" style="color: #bf9c5c;" ></i></div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Same state delivery</p>
                                            </div>
                                        </div>
                                        <input id="state" type="checkbox" name="product[state]" class="curr_checkbox" value="true" >
                                    </label>
                                </div>
                            </div>
                            <div class="column">
                                <div style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="countryDiv" class="columns options optionsUnchecked">
                                            <div class="column is-half"><i class="fas fa-flag fa-3x" style="color: #bf9c5c;" ></i></div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Same country delivery</p>
                                            </div>
                                        </div>
                                        <input id="country" type="checkbox" name="product[country]" class="curr_checkbox" value="true" >
                                    </label>
                                </div>
                                <br>
                                <div style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="worldwideDiv" class="columns options optionsUnchecked">
                                            <div class="column is-half"><i class="fas fa-globe-americas fa-3x" style="color: #bf9c5c;" ></i></div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Worldwide delivery</p>
                                            </div>
                                        </div>
                                        <input id="worldwide" type="checkbox" name="product[worldwide]" class="curr_checkbox" value="true" >
                                    </label>
                                </div>
                            </div>
                        </div>
                        <hr>
                        <h4 class="new-text" style="margin-bottom: 3vh;">Transport Fees</h4>
                        <div id="cityDeliv" class="hide">
                            <p class="subtitle is-5">Same city delivery</p>
                            <br>
                            <div class="columns">
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="freeCityOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-thumbs-up fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Free Transport</p>
                                            </div>
                                        </div>
                                        <input id="freeCity" type="radio" name="product[cityTransport]" class="curr_checkbox" value="free">
                                    </label>
                                </div>
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="paidCityOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-handshake fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Paid Transport</p>
                                            </div>
                                        </div>
                                        <input id="paidCity" type="radio" name="product[cityTransport]"  class="curr_checkbox" value="paid">
                                    </label>
                                </div>
                            </div>
                            <br>
                            <div id="cityTransportDiv" class="hide transportFee">
                                <input id="cityTransport" name="product[cityTransportPercent]" class="input" style="width: 80%;" type="number" placeholder="Transport fee" min="0" step="0.01" >
                                <i class="fas fa-percent" style="color: orange;"></i>
                            </div>
                        </div>
                        <br>
                        <div id="stateDeliv" class="hide">
                            <p class="subtitle is-5">Same state delivery</p> 
                            <br>
                            <div class="columns">
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="freeStateOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-thumbs-up fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Free Transport</p>
                                            </div>
                                        </div>
                                        <input id="freeState" type="radio" name="product[stateTransport]" class="curr_checkbox" value="free" >
                                    </label>
                                </div>
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="paidStateOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-handshake fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Paid Transport</p>
                                            </div>
                                        </div>
                                        <input id="paidState" type="radio" name="product[stateTransport]"  class="curr_checkbox" value="paid">
                                    </label>
                                </div>
                            </div>     
                            <br>                     
                            <div id="stateTransportDiv"  class="hide transportFee" >
                                <input id="stateTransport" name="product[stateTransportPercent]" class="input" style="width: 80%;" type="number" placeholder="Transport fee" min="0" step="0.01" >
                                <i class="fas fa-percent" style="color: orange;"></i>
                            </div>
                        </div>
                        <br>
                        <div id="countryDeliv" class="hide">                           
                            <p class="subtitle is-5">Same country delivery</p>
                            <br>
                            <div class="columns">
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="freeCountryOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-thumbs-up fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Free Transport</p>
                                            </div>
                                        </div>
                                        <input id="freeCountry" type="radio" name="product[countryTransport]" class="curr_checkbox" value="free" >
                                    </label>
                                </div>
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="paidCountryOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-handshake fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Paid Transport</p>
                                            </div>
                                        </div>
                                        <input id="paidCountry" type="radio" name="product[countryTransport]"  class="curr_checkbox" value="paid">
                                    </label>
                                </div>
                            </div>
                            <br>
                            <div id="countryTransportDiv" class="hide transportFee">
                                <input id="countryTransport" name="product[countryTransportPercent]" class="input" style="width: 80%;" type="number" placeholder="Transport fee" min="0" step="0.01" >
                                <i class="fas fa-percent" style="color: orange;"></i>
                            </div>
                        </div>
                        <br>
                        <div id="worldwideDeliv" class="hide">
                            <p class="subtitle is-5">Worldwide delivery</p>
                            <br>
                            <div class="columns">
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div  id="freeWorldwideOpt"class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-thumbs-up fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Free Transport</p>
                                            </div>
                                        </div>
                                        <input id="freeWorldwide" type="radio" name="product[worldwideTransport]" class="curr_checkbox" value="free">
                                    </label>
                                </div>
                                <div class="column"style="display: flex; justify-content: space-evenly">
                                    <label class="img-check ">
                                        <div id="paidWorldwideOpt" class="columns options optionsUnchecked">
                                            <div class="column">
                                                <i class="fas fa-handshake fa-3x" style="color: #bf9c5c;" ></i>
                                            </div>
                                            <div class="column">
                                                <p style="color: #bf9c5c;">Paid Transport</p>
                                            </div>
                                        </div>
                                        <input id="paidWorldwide" type="radio" name="product[worldwideTransport]"  class="curr_checkbox" value="paid">
                                    </label>
                                </div>
                            </div>    
                            <br>                   
                            <div id="worldwideTransportDiv" class="hide transportFee">
                                <input id="worldwideTransport" name="product[wordwideTransportPercent]" class="input" style="width: 80%;" type="number" placeholder="Transport fee" min="0" step="0.01" >
                                <i class="fas fa-percent" style="color: orange;"></i>
                            </div>
                        </div>
                        <hr>
                        <h4 class="new-text">Feature your deal</h4>
                        <h5 class="token-text">You have <%= user.feature_tokens %> tokens</h5>
                        <table class="table is-hoverable is-bordered new-table">
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Description</th>
                                    <th>Duration</th>
                                    <th>Cost</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Subcategory feature</td>
                                    <td>The deal will be shown in the first 5 deals on a subcategory page.</td>
                                    <td>14 days</td>
                                    <td>5 tokens</td>
                                    <td>
                                        <input name="product[feat_1]" type="checkbox" value="1">
                                    </td>
                                </tr>
                                <tr>
                                    <td>Front-page feature</td>
                                    <td>The deal will be shown on the front-page of the website.</td>
                                    <td>7 days</td>
                                    <td>15 tokens</td>
                                    <td>
                                        <input name="product[feat_2]" type="checkbox" value="2">
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="control smmargin">
                            <button class="button is-primary">Create</button>
                        </div>
                    </form>                
                </div>
                <div class="column"></div> 
                </div>
                
            </div>
        
</div>
<% include ../partials/footer %>